{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container mt-4">
    {% if 'OK' in request.GET %}
        <p><b> Los datos han sido enviados correctamente. </b></p>
    {% endif %}

    <!-- Formulario que incluye tanto Question como Choice -->
    <form method="POST" action="{% url 'polls:update' question.id %}">
        {% csrf_token %}
        <div class="card">
            <div class="card-header">
                <h3>Update View</h3>
            </div>
            <div class="mt-3 mb-5" style="display: inline-grid;
                grid-template-columns: auto auto;
                padding: 30px;">
                {{ form.non_form_errors }}
                {{ question_form }}
               
               
                 <div class="mt-3 mb-5">

                    {% for choice_form in choice_formset %}
                    <div class="choice-form">
                        {{ choice_form.choice_text }}
                        {{ choice_form.votes }}
                    </div>
                    {% endfor %}
                    <button type="button" id="choice_form">Ejecutar Función</button>
        
            <script src="{% static 'sweetbutton.js'  %}"></script>
                </div>
                
            </div>
            <div class="mt-3 mb-5">
                <button type="submit" class="px-5 btn btn-info">Submit</button>
            </div>
        </div>
    </form>

    

    <div class="mt-3 mb-5">
        <button type="button" id="choice_form">Ejecutar Función</button>
        <script src="{% static 'sweetbutton.js'  %}"></script>
    </div>
</div>

{% endblock %}


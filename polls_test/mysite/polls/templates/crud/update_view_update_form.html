{% extends 'base.html' %}
{% load static %}

{% block content %}
<script src="{% static 'sweetbutton.js'  %}"></script>
<div class="container mt-4">
    {% if 'OK' in request.GET %}
        <p><b> Los datos han sido enviados correctamente. </b></p>
    {% endif %}

    <!-- Formulario que incluye tanto Question como Choice -->
    <form method="POST" action="{% url 'polls:update' question.id %}">
        {% csrf_token %}
        <div class="card">
            <div class="card-header">
                <h3>Update View</h3>
            </div>
            <div class="mt-3 mb-5" style="display: inline-grid;
                grid-template-columns: auto auto;
                padding: 30px;">
                {{ form.non_form_errors }}
                {{ question_form }}
               
               
                <div class="mt-3 mb-5">
                    {% for choice_form in choice_formset %}
                    <div id="form-getChoice" class="choice-form">
                        {{ choice_form.choice_text }}
                        {{ choice_form.votes }}
                    </div>
                    {% endfor %}
                    <button type="button" id="add_fields">Add more</button>
                </div>
                
                
            </div>
            <div class="mt-3 mb-5">
                <button type="submit" name="save_forms" class="px-5 btn btn-info">Submit</button>
            </div>
        </div>
    </form>



{% endblock %}

